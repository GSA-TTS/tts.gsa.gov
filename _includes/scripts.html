{%comment%}Pull in custom js{%endcomment%}
<script async src="{{ assetPaths['app.js'] }}"></script>

<!-- Digital Analytics Program roll-up, see https://analytics.usa.gov for data -->
{% if site.dap.agency %}
  <script
    id="_fed_an_ua_tag"
    src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency={{site.dap.agency}}{% if site.dap.subagency %}&subagency={{site.dap.subagency}}{% endif %}"
    integrity="FZP6215/9ZTCFzqdICWrLRqpWGTLBQfCvQUEnnOSZ3FPmgZMAFZDYiervTGlLYvQ"
  ></script>
{% endif %}

{% if site.ga.ua %}
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id={{ site.ga.ua }}" integrity="Vwmkec6p8ugh5pe8ouSG1SvOpvu1M+NogpkGO0aw2eNuwo/Og8RxTH5PF5lSZWtF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  /**
    * `forceSSL` was used for analytics.js (the older Google Analytics script).
    * It isn't documented for gtag.js, but the term occurs in the gtag.js code;
    * figure it doesn't hurt to leave it in. -@afeld, 5/29/19
    */
  gtag('config', '{{ site.ga.ua }}', { 'anonymize_ip': true, 'forceSSL': true });
</script>
{% endif %}

{% if site.searchgov %}
  {% if site.searchgov.suggestions == true %}
    <script>
          var usasearch_config = { siteHandle: "{{ site.searchgov.affiliate }}" };
    </script>
    <script async src="https://search.usa.gov/javascripts/remote.loader.js" type="text/javascript" integrity="8JE5oxQoGtRa8vc2X6QTF9wHYC9y9vK/U1WD+5ps2xgMK2/MeK12doJwMYwPDYv7"></script>
  {% endif %}
{% endif %}
